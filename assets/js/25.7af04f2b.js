(window.webpackJsonp=window.webpackJsonp||[]).push([[25],{393:function(a,s,t){"use strict";t.r(s);var n=t(25),e=Object(n.a)({},(function(){var a=this,s=a.$createElement,t=a._self._c||s;return t("ContentSlotsDistributor",{attrs:{"slot-key":a.$parent.slotKey}},[t("h1",{attrs:{id:"natapp内网穿透"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#natapp内网穿透"}},[a._v("#")]),a._v(" natapp内网穿透")]),a._v(" "),t("p",[a._v("一、")]),a._v(" "),t("p",[t("a",{attrs:{name:"9DoVc"}})]),a._v(" "),t("h1",{attrs:{id:"二、linux后台运行natapp-ngrok-教程"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#二、linux后台运行natapp-ngrok-教程"}},[a._v("#")]),a._v(" 二、linux后台运行natapp(ngrok)教程")]),a._v(" "),t("p",[t("a",{attrs:{name:"Es6KX"}})]),a._v(" "),t("h2",{attrs:{id:"_1、常规方式"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_1、常规方式"}},[a._v("#")]),a._v(" 1、常规方式")]),a._v(" "),t("p",[a._v("首先，要确保常规方式运行natapp 没有任何问题。"),t("br"),a._v(" "),t("br"),a._v("如 我们将natapp放在 /usr/local/natapp/ 下")]),a._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[a._v("cd")]),a._v(" /usr/local/natapp\n")])]),a._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[a._v("1")]),t("br")])]),a._v(" "),t("p",[t("br"),a._v("然后运行")]),a._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[a._v("./natapp -authtoken"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v("xxxxxx\n")])]),a._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[a._v("1")]),t("br")])]),t("p",[t("br"),a._v("正常运行如下"),t("br"),t("img",{attrs:{src:"https://cdn.nlark.com/yuque/0/2019/png/160170/1566785926149-00aaab8d-7128-4a71-bc8b-f429c46e7873.png#align=left&display=inline&height=230&name=image.png&originHeight=230&originWidth=652&size=13065&status=done&width=652",alt:"image.png"}}),t("br")]),a._v(" "),t("p",[t("a",{attrs:{name:"SoEhD"}})]),a._v(" "),t("h2",{attrs:{id:"_2、后台运行方式"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_2、后台运行方式"}},[a._v("#")]),a._v(" 2、后台运行方式")]),a._v(" "),t("p",[a._v("浏览器访问等测试，均无任何问题。"),t("br"),a._v("这时，如果关掉窗口，就是关掉了natapp程序，所以会掉线。"),t("br"),a._v(" "),t("br"),a._v("下面利用 nohup 实现natapp(ngrok)后台运行方法")]),a._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[a._v("nohup")]),a._v(" ./natapp -authtoken"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v("xxxx -log"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v("stdout "),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("&")]),a._v("\n")])]),a._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[a._v("1")]),t("br")])]),t("p",[a._v("运行如图"),t("br"),t("img",{attrs:{src:"https://cdn.nlark.com/yuque/0/2019/png/160170/1566786219902-9fadf26b-531f-4b8b-b8b8-ebec7a782045.png#align=left&display=inline&height=87&name=image.png&originHeight=87&originWidth=899&size=11343&status=done&width=899",alt:"image.png"}}),t("br"),a._v(" "),t("br"),a._v("此时，按Ctrl+C 退出，或者直接关闭窗口都可以。"),t("br"),a._v("另开一个窗口检查一下")]),a._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[a._v("ps")]),a._v(" -ef"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("|")]),t("span",{pre:!0,attrs:{class:"token function"}},[a._v("grep")]),a._v(" natapp\n")])]),a._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[a._v("1")]),t("br")])]),t("p",[a._v("可以看到natapp进程代表运行成功！如果运行了多次，则会出现多个natapp进程，需要结束进程。"),t("br"),a._v("下面那个 23002的，代表查找程序本身，忽略掉。"),t("br"),t("img",{attrs:{src:"https://cdn.nlark.com/yuque/0/2019/png/160170/1566786331015-5dd76f10-dc2b-4292-a80b-6f58644c8226.png#align=left&display=inline&height=77&name=image.png&originHeight=77&originWidth=900&size=11764&status=done&width=900",alt:"image.png"}})]),a._v(" "),t("p",[a._v("找到natapp进程的pid 22989，如果要结束进程，运行")]),a._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[a._v("kill")]),a._v(" -9 "),t("span",{pre:!0,attrs:{class:"token number"}},[a._v("22989")]),a._v("\n")])]),a._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[a._v("1")]),t("br")])]),t("p",[a._v("nohup 默认会在当前目录 创建 nohup.out 文件，会记录natapp运行日志，为避免日志过大，可以将日志等级降低 如：")]),a._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[a._v("nohup")]),a._v(" ./natapp -authtoken"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v("xxx -log"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v("stdout -loglevel"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v("ERROR "),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("&")]),a._v("\n")])]),a._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[a._v("1")]),t("br")])])])}),[],!1,null,null,null);s.default=e.exports}}]);