(window.webpackJsonp=window.webpackJsonp||[]).push([[22],{409:function(s,a,e){"use strict";e.r(a);var t=e(25),n=Object(t.a)({},(function(){var s=this,a=s.$createElement,e=s._self._c||a;return e("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[e("h1",{attrs:{id:"docker-命令大全"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#docker-命令大全"}},[s._v("#")]),s._v(" Docker 命令大全")]),s._v(" "),e("p",[e("a",{attrs:{name:"bd68ac91"}})]),s._v(" "),e("h1",{attrs:{id:"一、docker基本命令"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#一、docker基本命令"}},[s._v("#")]),s._v(" 一、docker基本命令")]),s._v(" "),e("p",[e("a",{attrs:{name:"30a4f953"}})]),s._v(" "),e("h2",{attrs:{id:"_1-查看docker信息（version、info）"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_1-查看docker信息（version、info）"}},[s._v("#")]),s._v(" 1.查看docker信息（version、info）")]),s._v(" "),e("div",{staticClass:"language-shell line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-shell"}},[e("code",[e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 查看docker版本  ")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$docker")]),s._v(" version  \n  \n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 显示docker系统的信息  ")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$docker")]),s._v(" info  \n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br"),e("span",{staticClass:"line-number"},[s._v("5")]),e("br")])]),s._v(" "),e("p",[e("a",{attrs:{name:"5562c163"}})]),s._v(" "),e("h2",{attrs:{id:"_2-对image的操作（search、pull、images、rmi、history）"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_2-对image的操作（search、pull、images、rmi、history）"}},[s._v("#")]),s._v(" 2.对image的操作（search、pull、images、rmi、history）")]),s._v(" "),e("div",{staticClass:"language-shell line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-shell"}},[e("code",[e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 检索image  ")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$docker")]),s._v(" search image_name  \n  \n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 下载image  ")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$docker")]),s._v(" pull image_name  \n  \n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 列出镜像列表; ")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# -a, --all=false Show all images; ")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# --no-trunc=false Don't truncate output;")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# -q, --quiet=false Only show numeric IDs  ")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$docker")]),s._v(" images  \n  \n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 删除一个或者多个镜像; ")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# -f, --force=false Force;")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# --no-prune=false Do not delete untagged parents  ")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$docker")]),s._v(" rmi image_name  \n  \n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 显示一个镜像的历史; ")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# --no-trunc=false Don't truncate output;")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# -q, --quiet=false Only show numeric IDs  ")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$docker")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("history")]),s._v(" image_name \n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br"),e("span",{staticClass:"line-number"},[s._v("5")]),e("br"),e("span",{staticClass:"line-number"},[s._v("6")]),e("br"),e("span",{staticClass:"line-number"},[s._v("7")]),e("br"),e("span",{staticClass:"line-number"},[s._v("8")]),e("br"),e("span",{staticClass:"line-number"},[s._v("9")]),e("br"),e("span",{staticClass:"line-number"},[s._v("10")]),e("br"),e("span",{staticClass:"line-number"},[s._v("11")]),e("br"),e("span",{staticClass:"line-number"},[s._v("12")]),e("br"),e("span",{staticClass:"line-number"},[s._v("13")]),e("br"),e("span",{staticClass:"line-number"},[s._v("14")]),e("br"),e("span",{staticClass:"line-number"},[s._v("15")]),e("br"),e("span",{staticClass:"line-number"},[s._v("16")]),e("br"),e("span",{staticClass:"line-number"},[s._v("17")]),e("br"),e("span",{staticClass:"line-number"},[s._v("18")]),e("br"),e("span",{staticClass:"line-number"},[s._v("19")]),e("br"),e("span",{staticClass:"line-number"},[s._v("20")]),e("br"),e("span",{staticClass:"line-number"},[s._v("21")]),e("br")])]),e("p",[e("a",{attrs:{name:"b9971128"}})]),s._v(" "),e("h2",{attrs:{id:"_3-启动容器（run）"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_3-启动容器（run）"}},[s._v("#")]),s._v(" 3.启动容器（run）")]),s._v(" "),e("p",[e("a",{attrs:{name:"856d06cf"}})]),s._v(" "),e("h3",{attrs:{id:"a-简单理解-run"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#a-简单理解-run"}},[s._v("#")]),s._v(" A.简单理解-run")]),s._v(" "),e("p",[s._v("docker容器可以理解为在沙盒中运行的进程。")]),s._v(" "),e("ul",[e("li",[s._v("这个沙盒包含了该进程运行所必须的资源，包括文件系统、系统类库、shell 环境等等。")]),s._v(" "),e("li",[s._v("但这个沙盒默认是不会运行任何程序的。")]),s._v(" "),e("li",[s._v("你需要在沙盒中运行一个进程来启动某一个容器。")]),s._v(" "),e("li",[s._v("这个进程是该容器的唯一进程，所以当该进程结束的时候，容器也会完全的停止。")])]),s._v(" "),e("div",{staticClass:"language-shell line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-shell"}},[e("code",[e("span",{pre:!0,attrs:{class:"token comment"}},[s._v('# 在容器中运行"echo"命令，输出"hello word"  ')]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$docker")]),s._v(" run image_name "),e("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[s._v('"hello word"')]),s._v("  \n  \n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 交互式进入容器中  ")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$docker")]),s._v(" run -i -t image_name /bin/bash  \n  \n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 在容器中安装新的程序  ")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$docker")]),s._v(" run image_name "),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("apt-get")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" -y app_name  \n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br"),e("span",{staticClass:"line-number"},[s._v("5")]),e("br"),e("span",{staticClass:"line-number"},[s._v("6")]),e("br"),e("span",{staticClass:"line-number"},[s._v("7")]),e("br"),e("span",{staticClass:"line-number"},[s._v("8")]),e("br")])]),e("blockquote",[e("p",[s._v("Note： 在执行apt-get 命令的时候，要带上-y参数。如果不指定-y参数的话，apt-get命令会进入交互模式，需要用户输入命令来进行确认，但在docker环境中是无法响应这种交互的。apt-get 命令执行完毕之后，容器就会停止，但对容器的改动不会丢失。")])]),s._v(" "),e("p",[e("a",{attrs:{name:"f5222858"}})]),s._v(" "),e("h3",{attrs:{id:"b-详细说明-run"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#b-详细说明-run"}},[s._v("#")]),s._v(" B.详细说明-run")]),s._v(" "),e("p",[s._v("① docker run ：创建一个新的容器并运行一个命令")]),s._v(" "),e("div",{staticClass:"language-shell line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-shell"}},[e("code",[s._v("docker run "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("OPTIONS"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" IMAGE "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("COMMAND"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("ARG"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),s._v("."),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])]),e("p",[s._v("② OPTIONS说明：")]),s._v(" "),e("ul",[e("li",[s._v("-a stdin: 指定标准输入输出内容类型，可选 STDIN/STDOUT/STDERR 三项；")]),s._v(" "),e("li",[s._v("-d: 后台运行容器，并返回容器ID；")]),s._v(" "),e("li",[s._v("-i: 以交互模式运行容器，通常与 -t 同时使用；")]),s._v(" "),e("li",[s._v("-p: 端口映射，格式为：主机(宿主)端口:容器端口")]),s._v(" "),e("li",[s._v("-t: 为容器重新分配一个伪输入终端，通常与 -i 同时使用；")]),s._v(" "),e("li",[s._v('--name="nginx-lb": 为容器指定一个名称；')]),s._v(" "),e("li",[s._v("--dns 8.8.8.8: 指定容器使用的DNS服务器，默认和宿主一致；")]),s._v(" "),e("li",[s._v("--dns-search example.com: 指定容器DNS搜索域名，默认和宿主一致；")]),s._v(" "),e("li",[s._v('-h "mars": 指定容器的hostname；')]),s._v(" "),e("li",[s._v('-e username="ritchie": 设置环境变量；')]),s._v(" "),e("li",[s._v("--env-file=[]: 从指定文件读入环境变量；")]),s._v(" "),e("li",[s._v('--cpuset="0-2" or --cpuset="0,1,2": 绑定容器到指定CPU运行；')]),s._v(" "),e("li",[s._v("-m :设置容器使用内存最大值；")]),s._v(" "),e("li",[s._v('--net="bridge": 指定容器的网络连接类型，支持 bridge/host/none/container: 四种类型；')]),s._v(" "),e("li",[s._v("--link=[]: 添加链接到另一个容器；")]),s._v(" "),e("li",[s._v("--expose=[]: 开放一个端口或一组端口；")])]),s._v(" "),e("p",[s._v("③ 实例：")]),s._v(" "),e("div",{staticClass:"language-shell line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-shell"}},[e("code",[e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 使用docker镜像nginx:latest以后台模式启动一个容器,并将容器命名为mynginx。")]),s._v("\ndocker run --name mynginx -d nginx:latest\n\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 使用镜像nginx:latest以后台模式启动一个容器,并将容器的80端口映射到主机随机端口。")]),s._v("\ndocker run -P -d nginx:latest\n\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#使用镜像 nginx:latest，以后台模式启动一个容器,将容器的 80 端口映射到主机的 80 端口,主机的目录 /data 映射到容器的 /data。")]),s._v("\ndocker run -p "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("80")]),s._v(":80 -v /data:/data -d nginx:latest\n\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#绑定容器的 8080 端口，并将其映射到本地主机 127.0.0.1 的 80 端口上。")]),s._v("\n$ docker run -p "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("127.0")]),s._v(".0.1:80:8080/tcp ubuntu "),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("bash")]),s._v("\n\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#使用镜像nginx:latest以交互模式启动一个容器,在容器内执行/bin/bash命令。")]),s._v("\nrunoob@runoob:~$ docker run -it nginx:latest /bin/bash\nroot@b8573233d675:/"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# ")]),s._v("\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br"),e("span",{staticClass:"line-number"},[s._v("5")]),e("br"),e("span",{staticClass:"line-number"},[s._v("6")]),e("br"),e("span",{staticClass:"line-number"},[s._v("7")]),e("br"),e("span",{staticClass:"line-number"},[s._v("8")]),e("br"),e("span",{staticClass:"line-number"},[s._v("9")]),e("br"),e("span",{staticClass:"line-number"},[s._v("10")]),e("br"),e("span",{staticClass:"line-number"},[s._v("11")]),e("br"),e("span",{staticClass:"line-number"},[s._v("12")]),e("br"),e("span",{staticClass:"line-number"},[s._v("13")]),e("br"),e("span",{staticClass:"line-number"},[s._v("14")]),e("br"),e("span",{staticClass:"line-number"},[s._v("15")]),e("br")])]),e("p",[e("a",{attrs:{name:"fde4bd43"}})]),s._v(" "),e("h2",{attrs:{id:"_4-查看容器（ps）"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_4-查看容器（ps）"}},[s._v("#")]),s._v(" 4.查看容器（ps）")]),s._v(" "),e("div",{staticClass:"language-shell line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-shell"}},[e("code",[e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 列出当前所有正在运行的container  ")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$docker")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("ps")]),s._v("  \n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 列出所有的container  ")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$docker")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("ps")]),s._v(" -a  \n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 列出最近一次启动的container  ")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$docker")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("ps")]),s._v(" -l \n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br"),e("span",{staticClass:"line-number"},[s._v("5")]),e("br"),e("span",{staticClass:"line-number"},[s._v("6")]),e("br")])]),e("p",[e("a",{attrs:{name:"64a22972"}})]),s._v(" "),e("h2",{attrs:{id:"_5-保存对容器的修改（commit）"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_5-保存对容器的修改（commit）"}},[s._v("#")]),s._v(" 5.保存对容器的修改（commit）")]),s._v(" "),e("p",[s._v("当你对某一个容器做了修改之后（通过在容器中运行某一个命令），可以把对容器的修改保存下来，这样下次可以从保存后的最新状态运行该容器")]),s._v(" "),e("div",{staticClass:"language-shell line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-shell"}},[e("code",[s._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v('# 保存对容器的修改; -a, --author="" Author; -m, --message="" Commit message  ')]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$docker")]),s._v(" commit ID new_image_name  \n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br")])]),e("blockquote",[e("p",[s._v("Note：image相当于类，container相当于实例，不过可以动态给实例安装新软件，然后把这个container用commit命令固化成一个image。")])]),s._v(" "),e("p",[e("a",{attrs:{name:"038a1538"}})]),s._v(" "),e("h2",{attrs:{id:"_6-对容器的操作（rm、stop、start、kill、logs、diff、top、cp、restart、attach）"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_6-对容器的操作（rm、stop、start、kill、logs、diff、top、cp、restart、attach）"}},[s._v("#")]),s._v(" 6.对容器的操作（rm、stop、start、kill、logs、diff、top、cp、restart、attach）")]),s._v(" "),e("div",{staticClass:"language-shell line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-shell"}},[e("code",[s._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 删除所有容器  ")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$docker")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("rm")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token variable"}},[e("span",{pre:!0,attrs:{class:"token variable"}},[s._v("`")]),s._v("docker "),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("ps")]),s._v(" -a -q"),e("span",{pre:!0,attrs:{class:"token variable"}},[s._v("`")])]),s._v("  \n  \n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 删除单个容器; -f, --force=false; -l, --link=false Remove the specified link and not the underlying container; -v, --volumes=false Remove the volumes associated to the container  ")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$docker")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("rm")]),s._v(" Name/ID  \n  \n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 停止、启动、杀死一个容器  ")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$docker")]),s._v(" stop Name/ID  \n"),e("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$docker")]),s._v(" start Name/ID  \n"),e("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$docker")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("kill")]),s._v(" Name/ID  \n  \n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 从一个容器中取日志; ")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# -f, --follow=false Follow log output; -t, --timestamps=false Show timestamps  ")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$docker")]),s._v(" logs Name/ID  \n  \n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 列出一个容器里面被改变的文件或者目录，list列表会显示出三种事件，A 增加的，D 删除的，C 被改变的  ")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$docker")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("diff")]),s._v(" Name/ID  \n  \n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 显示一个运行的容器里面的进程信息  ")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$docker")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("top")]),s._v(" Name/ID  \n  \n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 从容器里面拷贝文件/目录到本地一个路径  ")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$docker")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("cp")]),s._v(" Name:/container_path to_path  \n"),e("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$docker")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("cp")]),s._v(" ID:/container_path to_path  \n  \n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 重启一个正在运行的容器; ")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# -t, --time=10 Number of seconds to try to stop for before killing the container, Default=10  ")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$docker")]),s._v(" restart Name/ID  \n  \n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 附加到一个运行的容器上面; ")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# --no-stdin=false Do not attach stdin; --sig-proxy=true Proxify all received signal to the process  ")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$docker")]),s._v(" attach ID \n\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 进入容器")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$docker")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("exec")]),s._v(" -it ID /bin/bash\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br"),e("span",{staticClass:"line-number"},[s._v("5")]),e("br"),e("span",{staticClass:"line-number"},[s._v("6")]),e("br"),e("span",{staticClass:"line-number"},[s._v("7")]),e("br"),e("span",{staticClass:"line-number"},[s._v("8")]),e("br"),e("span",{staticClass:"line-number"},[s._v("9")]),e("br"),e("span",{staticClass:"line-number"},[s._v("10")]),e("br"),e("span",{staticClass:"line-number"},[s._v("11")]),e("br"),e("span",{staticClass:"line-number"},[s._v("12")]),e("br"),e("span",{staticClass:"line-number"},[s._v("13")]),e("br"),e("span",{staticClass:"line-number"},[s._v("14")]),e("br"),e("span",{staticClass:"line-number"},[s._v("15")]),e("br"),e("span",{staticClass:"line-number"},[s._v("16")]),e("br"),e("span",{staticClass:"line-number"},[s._v("17")]),e("br"),e("span",{staticClass:"line-number"},[s._v("18")]),e("br"),e("span",{staticClass:"line-number"},[s._v("19")]),e("br"),e("span",{staticClass:"line-number"},[s._v("20")]),e("br"),e("span",{staticClass:"line-number"},[s._v("21")]),e("br"),e("span",{staticClass:"line-number"},[s._v("22")]),e("br"),e("span",{staticClass:"line-number"},[s._v("23")]),e("br"),e("span",{staticClass:"line-number"},[s._v("24")]),e("br"),e("span",{staticClass:"line-number"},[s._v("25")]),e("br"),e("span",{staticClass:"line-number"},[s._v("26")]),e("br"),e("span",{staticClass:"line-number"},[s._v("27")]),e("br"),e("span",{staticClass:"line-number"},[s._v("28")]),e("br"),e("span",{staticClass:"line-number"},[s._v("29")]),e("br"),e("span",{staticClass:"line-number"},[s._v("30")]),e("br"),e("span",{staticClass:"line-number"},[s._v("31")]),e("br"),e("span",{staticClass:"line-number"},[s._v("32")]),e("br"),e("span",{staticClass:"line-number"},[s._v("33")]),e("br"),e("span",{staticClass:"line-number"},[s._v("34")]),e("br"),e("span",{staticClass:"line-number"},[s._v("35")]),e("br"),e("span",{staticClass:"line-number"},[s._v("36")]),e("br")])]),e("blockquote",[e("p",[s._v("Note： attach命令允许你查看或者影响一个运行的容器。你可以在同一时间attach同一个容器。你也可以从一个容器中脱离出来，是从CTRL-C。")])]),s._v(" "),e("p",[e("a",{attrs:{name:"686c2bc5"}})]),s._v(" "),e("h2",{attrs:{id:"_7-保存和加载镜像（save、load）"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_7-保存和加载镜像（save、load）"}},[s._v("#")]),s._v(" 7.保存和加载镜像（save、load）")]),s._v(" "),e("p",[s._v("当需要把一台机器上的镜像迁移到另一台机器的时候，需要保存镜像与加载镜像。")]),s._v(" "),e("div",{staticClass:"language-shell line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-shell"}},[e("code",[e("span",{pre:!0,attrs:{class:"token comment"}},[s._v('# 保存镜像到一个tar包; -o, --output="" Write to an file  ')]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$docker")]),s._v(" save image_name -o file_path  \n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v('# 加载一个tar包格式的镜像; -i, --input="" Read from a tar archive file  ')]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$docker")]),s._v(" load -i file_path  \n  \n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 机器a  ")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$docker")]),s._v(" save image_name "),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" /home/save.tar  \n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 使用scp将save.tar拷到机器b上，然后：  ")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$docker")]),s._v(" load "),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v(" /home/save.tar\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br"),e("span",{staticClass:"line-number"},[s._v("5")]),e("br"),e("span",{staticClass:"line-number"},[s._v("6")]),e("br"),e("span",{staticClass:"line-number"},[s._v("7")]),e("br"),e("span",{staticClass:"line-number"},[s._v("8")]),e("br"),e("span",{staticClass:"line-number"},[s._v("9")]),e("br")])]),e("p",[e("a",{attrs:{name:"9cd5a682"}})]),s._v(" "),e("h2",{attrs:{id:"_8-登录registry-server（login）"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_8-登录registry-server（login）"}},[s._v("#")]),s._v(" 8.登录registry server（login）")]),s._v(" "),e("div",{staticClass:"language-shell line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-shell"}},[e("code",[e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 登陆registry server;")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v('# -e, --email="" Email;')]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v('# -p, --password="" Password;')]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v('# -u, --username="" Username  ')]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$docker")]),s._v(" login  \n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br"),e("span",{staticClass:"line-number"},[s._v("5")]),e("br")])]),e("p",[e("a",{attrs:{name:"89bce1f4"}})]),s._v(" "),e("h2",{attrs:{id:"_9-发布image（push）"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_9-发布image（push）"}},[s._v("#")]),s._v(" 9.发布image（push）")]),s._v(" "),e("div",{staticClass:"language-shell line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-shell"}},[e("code",[e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 发布docker镜像  ")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$docker")]),s._v(" push new_image_name  \n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br")])]),e("p",[e("a",{attrs:{name:"f73e5fbe"}})]),s._v(" "),e("h2",{attrs:{id:"_10-根据dockerfile-构建出一个容器"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_10-根据dockerfile-构建出一个容器"}},[s._v("#")]),s._v(" 10.根据Dockerfile 构建出一个容器")]),s._v(" "),e("div",{staticClass:"language-shell line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-shell"}},[e("code",[e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# build  ")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# --no-cache=false Do not use cache when building the image  ")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# -q, --quiet=false Suppress the verbose output generated by the containers  ")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# --rm=true Remove intermediate containers after a successful build  ")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v('# -t, --tag="" Repository name (and optionally a tag) to be applied to the resulting image in case of success  ')]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$docker")]),s._v(" build -t image_name Dockerfile_path\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br"),e("span",{staticClass:"line-number"},[s._v("5")]),e("br"),e("span",{staticClass:"line-number"},[s._v("6")]),e("br")])]),e("p",[e("a",{attrs:{name:"a72dcbbf"}})]),s._v(" "),e("h2",{attrs:{id:"_11-修改镜像名称"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_11-修改镜像名称"}},[s._v("#")]),s._v(" 11.修改镜像名称")]),s._v(" "),e("div",{staticClass:"language-shell line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-shell"}},[e("code",[s._v("docker tag server:latest myname/server:latest\nor\ndocker tag d583c3ac45fd myname/server:latest\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br")])]),e("p",[e("em",[s._v("参考文章")])]),s._v(" "),e("blockquote",[e("ol",[e("li",[s._v("docker命令大全（菜鸟教程），"),e("a",{attrs:{href:"https://www.runoob.com/docker/docker-command-manual.html",target:"_blank",rel:"noopener noreferrer"}},[s._v("https://www.runoob.com/docker/docker-command-manual.html"),e("OutboundLink")],1),s._v("\n2. Docker操作命令详解（CSDN），"),e("a",{attrs:{href:"https://blog.csdn.net/omnispace/article/details/79778544",target:"_blank",rel:"noopener noreferrer"}},[s._v("https://blog.csdn.net/omnispace/article/details/79778544"),e("OutboundLink")],1)]),s._v(" "),e("li",[s._v("Docker基本命令（博客园），"),e("a",{attrs:{href:"https://www.cnblogs.com/edisonxiang/p/6068212.html",target:"_blank",rel:"noopener noreferrer"}},[s._v("https://www.cnblogs.com/edisonxiang/p/6068212.html"),e("OutboundLink")],1)])])])])}),[],!1,null,null,null);a.default=n.exports}}]);